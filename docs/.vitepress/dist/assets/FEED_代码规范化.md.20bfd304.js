import{_ as s,c as a,o as n,Q as l}from"./chunks/framework.e7dbb61d.js";const h=JSON.parse('{"title":"prettier","description":"","frontmatter":{},"headers":[],"relativePath":"FEED/代码规范化.md"}'),o={name:"FEED/代码规范化.md"},e=l(`<h1 id="prettier" tabindex="-1">prettier <a class="header-anchor" href="#prettier" aria-label="Permalink to &quot;prettier&quot;">​</a></h1><h2 id="install" tabindex="-1">install <a class="header-anchor" href="#install" aria-label="Permalink to &quot;install&quot;">​</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">prettier</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-dev</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">prettier</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-dev</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">prettier</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">prettier</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">prettier</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--write</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">files</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">prettier</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--check</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">files</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="configure" tabindex="-1">configure <a class="header-anchor" href="#configure" aria-label="Permalink to &quot;configure&quot;">​</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.prettierrc.json</span></span>
<span class="line"></span></code></pre></div><h1 id="eslint" tabindex="-1">eslint <a class="header-anchor" href="#eslint" aria-label="Permalink to &quot;eslint&quot;">​</a></h1><h2 id="install-1" tabindex="-1">install <a class="header-anchor" href="#install-1" aria-label="Permalink to &quot;install&quot;">​</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eslint</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-dev</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eslint</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-dev</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eslint</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eslint</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span></span>
<span class="line"></span></code></pre></div><h2 id="configure-1" tabindex="-1">configure <a class="header-anchor" href="#configure-1" aria-label="Permalink to &quot;configure&quot;">​</a></h2><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">env</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">browser</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true,</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">es2021</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">extends</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">eslint:recommended</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">overrides</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">parserOptions</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">ecmaVersion</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">latest</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">sourceType</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">module</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">rules</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="usage" tabindex="-1">usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;usage&quot;">​</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eslint</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">files</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eslint</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">files</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--fix</span></span>
<span class="line"></span></code></pre></div><h1 id="eslint-prettier-conflict" tabindex="-1">eslint + prettier conflict <a class="header-anchor" href="#eslint-prettier-conflict" aria-label="Permalink to &quot;eslint + prettier conflict&quot;">​</a></h1><h1 id="git-hooks" tabindex="-1">git hooks <a class="header-anchor" href="#git-hooks" aria-label="Permalink to &quot;git hooks&quot;">​</a></h1><p>git hooks 就是在执行某些git actions 的时候可以触发的脚本 包括本地的git actions hooks和 远程仓库的git actions hooks ##客户端hooks</p><ul><li>pre-commit 就是在commit之前运行的脚本</li><li>commit-msg</li><li>post-commit 就是在commit之后</li></ul><h2 id="服务端hooks" tabindex="-1">服务端hooks <a class="header-anchor" href="#服务端hooks" aria-label="Permalink to &quot;服务端hooks&quot;">​</a></h2><ul><li>pre-receive</li></ul><h1 id="husky" tabindex="-1">husky <a class="header-anchor" href="#husky" aria-label="Permalink to &quot;husky&quot;">​</a></h1><h2 id="配置文件" tabindex="-1">配置文件 <a class="header-anchor" href="#配置文件" aria-label="Permalink to &quot;配置文件&quot;">​</a></h2><p>version4 配置文件可以为 .huskyrc.json version8 直接在.husky 目录下新建各种钩子</p><h2 id="install-2" tabindex="-1">install <a class="header-anchor" href="#install-2" aria-label="Permalink to &quot;install&quot;">​</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">husky</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-dev</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">husky</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-dev</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">husky</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">husky</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">husky</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> 		</span><span style="color:#C3E88D;">//</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">只初始化了.husky文件</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">没有添加具体钩子</span></span>
<span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">husky-init</span><span style="color:#A6ACCD;"> 				</span><span style="color:#C3E88D;">//初始化了.husky文件</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">并且添加了一个pre-commit钩子</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">husky</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.husky/pre-commit</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">npm test</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">//如果文件不存在，添加一个新的钩子文件，如果已经存在，会覆盖之前的内容</span></span>
<span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">husky</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.husky/pre-commit</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">npm test</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">	</span><span style="color:#C3E88D;">//如果文件不存在，添加一个新的钩子文件，如果已经存在，会往里新增内容，不会覆盖之前的内容</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h1 id="lint-staged" tabindex="-1">lint-staged <a class="header-anchor" href="#lint-staged" aria-label="Permalink to &quot;lint-staged&quot;">​</a></h1><h2 id="intall" tabindex="-1">intall <a class="header-anchor" href="#intall" aria-label="Permalink to &quot;intall&quot;">​</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-dev</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lint-staged</span></span>
<span class="line"></span></code></pre></div><h2 id="set-up-git-hooks" tabindex="-1">set up git hooks <a class="header-anchor" href="#set-up-git-hooks" aria-label="Permalink to &quot;set up git hooks&quot;">​</a></h2><ul><li>husky</li></ul><h2 id="install-some-linters" tabindex="-1">install some linters <a class="header-anchor" href="#install-some-linters" aria-label="Permalink to &quot;install some linters&quot;">​</a></h2><ul><li>eslint</li><li>prettier</li></ul><h2 id="configure-lint-staged" tabindex="-1">configure lint-staged <a class="header-anchor" href="#configure-lint-staged" aria-label="Permalink to &quot;configure lint-staged&quot;">​</a></h2><h3 id="ways" tabindex="-1">ways <a class="header-anchor" href="#ways" aria-label="Permalink to &quot;ways&quot;">​</a></h3><ul><li>package.json <ul><li>Object &quot;lint-staged&quot;</li></ul></li><li>.lintstagedrc <ul><li>json</li><li>yaml</li><li>yml</li></ul></li><li>.lintstagedrc. <ul><li>mjs</li><li>cjs</li><li>js</li></ul></li><li>lint-staged.config <ul><li>mjs</li><li>cjs</li><li>js</li></ul></li></ul><h1 id="eslint-prettier-husky-lint-staged-to-lint-and-format-code-pre-commit" tabindex="-1"><em>eslint + prettier + husky + lint-staged</em> --&gt; to lint and format code (pre-commit) <a class="header-anchor" href="#eslint-prettier-husky-lint-staged-to-lint-and-format-code-pre-commit" aria-label="Permalink to &quot;*eslint + prettier + husky + lint-staged* --&gt; to lint and format code (pre-commit)&quot;">​</a></h1><h1 id="format-git-commit-message" tabindex="-1">format git commit message <a class="header-anchor" href="#format-git-commit-message" aria-label="Permalink to &quot;format git commit message&quot;">​</a></h1><h2 id="angular-message-rules" tabindex="-1">angular message rules <a class="header-anchor" href="#angular-message-rules" aria-label="Permalink to &quot;angular message rules&quot;">​</a></h2><blockquote><p><a href="https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit" target="_blank" rel="noreferrer">https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit</a></p></blockquote><h2 id="format" tabindex="-1">format <a class="header-anchor" href="#format" aria-label="Permalink to &quot;format&quot;">​</a></h2><h3 id="single-line-commit-message" tabindex="-1">single -line commit message <a class="header-anchor" href="#single-line-commit-message" aria-label="Permalink to &quot;single -line commit message&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">docs: a short summary in present tense without capitalization or ending period</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><h3 id="multi-line-commit-message" tabindex="-1">multi-line commit. message <a class="header-anchor" href="#multi-line-commit-message" aria-label="Permalink to &quot;multi-line commit. message&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">docs: a short summary in present tense without capitalization or ending period</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">A description of what was fixed, and why.</span></span>
<span class="line"><span style="color:#C3E88D;">This description can be as detailed as necessary and can be</span></span>
<span class="line"><span style="color:#C3E88D;">written with appropriate capitalization and punctuation.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">Fixes #34353</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><h3 id="example-format" tabindex="-1">example format <a class="header-anchor" href="#example-format" aria-label="Permalink to &quot;example format&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;header&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;BLANK LINE&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;body&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;BLANK LINE&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;footer&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;type&gt;(&lt;scope&gt;): &lt;short summary&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  │       │             │</span></span>
<span class="line"><span style="color:#A6ACCD;">  │       │             └─⫸ Summary in present tense. Not capitalized. No period at the end.</span></span>
<span class="line"><span style="color:#A6ACCD;">  │       │</span></span>
<span class="line"><span style="color:#A6ACCD;">  │       └─⫸ Commit Scope: animations|bazel|benchpress|common|compiler|compiler-cli|core|</span></span>
<span class="line"><span style="color:#A6ACCD;">  │                          elements|forms|http|language-service|localize|platform-browser|</span></span>
<span class="line"><span style="color:#A6ACCD;">  │                          platform-browser-dynamic|platform-server|router|service-worker|</span></span>
<span class="line"><span style="color:#A6ACCD;">  │                          upgrade|zone.js|packaging|changelog|docs-infra|migrations|</span></span>
<span class="line"><span style="color:#A6ACCD;">  │                          devtools</span></span>
<span class="line"><span style="color:#A6ACCD;">  │</span></span>
<span class="line"><span style="color:#A6ACCD;">  └─⫸ Commit Type: build|ci|docs|feat|fix|perf|refactor|test</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="type" tabindex="-1">type <a class="header-anchor" href="#type" aria-label="Permalink to &quot;type&quot;">​</a></h3><ul><li><strong>build</strong>: Changes that affect the build system or external dependencies (example scopes: gulp, broccoli, npm)</li><li><strong>ci</strong>: Changes to our CI configuration files and scripts (examples: CircleCi, SauceLabs)</li><li><em><strong>chore</strong></em>: Other changes that don&#39;t modify src or test files</li><li><em><strong>revert</strong></em>: Reverts a previous commit</li><li><em><strong>style</strong></em>: Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)</li><li><strong>docs</strong>: Documentation only changes</li><li><strong>feat</strong>: A new feature</li><li><strong>fix</strong>: A bug fix</li><li><strong>perf</strong>: A code change that improves performance</li><li><strong>refactor</strong>: A code change that neither fixes a bug nor adds a feature</li><li><strong>test</strong>: Adding missing tests or correcting existing tests</li></ul><h3 id="scope" tabindex="-1">scope <a class="header-anchor" href="#scope" aria-label="Permalink to &quot;scope&quot;">​</a></h3><p><code>scope</code>用于说明 commit 影响的范围，比如数据层、控制层、视图层等等，视项目不同而不同。</p><h3 id="subject" tabindex="-1">subject <a class="header-anchor" href="#subject" aria-label="Permalink to &quot;subject&quot;">​</a></h3><p><code>subject</code>是 commit 目的的简短描述，不超过50个字符。</p><ul><li>以动词开头，使用第一人称现在时，比如<code>change</code>，而不是<code>changed</code>或<code>changes</code></li><li>第一个字母小写</li><li>结尾不加句号（<code>.</code>）</li></ul><h3 id="body" tabindex="-1">body <a class="header-anchor" href="#body" aria-label="Permalink to &quot;body&quot;">​</a></h3><p>Body 部分是对本次 commit 的详细描述，可以分成多行。下面是一个范例。</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">More</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">detailed</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">explanatory</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">text,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">necessary.</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">Wrap</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">it</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">about</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">72</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">characters</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">or</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">so.</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Further</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">paragraphs</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">come</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">after</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">blank</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lines.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Bullet</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">points</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">are</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">okay,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">too</span></span>
<span class="line"><span style="color:#FFCB6B;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Use</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">hanging</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">indent</span></span>
<span class="line"></span></code></pre></div><p>有两个注意点。 （1）使用第一人称现在时，比如使用<code>change</code>而不是<code>changed</code>或<code>changes</code>。 （2）应该说明代码变动的动机，以及与以前行为的对比。</p><h2 id="处理的两种方法" tabindex="-1">处理的两种方法 <a class="header-anchor" href="#处理的两种方法" aria-label="Permalink to &quot;处理的两种方法&quot;">​</a></h2><ul><li>使用commitlint 在git commit之后对commit-msg进行检查</li><li>使用commitzen 不直接使用git commit提交 而是通过git cz</li></ul><h1 id="commitlint" tabindex="-1">commitlint <a class="header-anchor" href="#commitlint" aria-label="Permalink to &quot;commitlint&quot;">​</a></h1><h2 id="install-3" tabindex="-1">install <a class="header-anchor" href="#install-3" aria-label="Permalink to &quot;install&quot;">​</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@commitlint/cli</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@commitlint/config-conventional</span></span>
<span class="line"></span></code></pre></div><h2 id="configure-2" tabindex="-1">configure <a class="header-anchor" href="#configure-2" aria-label="Permalink to &quot;configure&quot;">​</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">module.exports = {extends: [&#39;@commitlint/config-conventional&#39;]}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commitlint.config.js</span></span>
<span class="line"></span></code></pre></div><h2 id="with-githooks" tabindex="-1">with githooks <a class="header-anchor" href="#with-githooks" aria-label="Permalink to &quot;with githooks&quot;">​</a></h2><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">commit-msg</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: npx commitlint -e $</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">1</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">npx husky add .husky/commit-msg &#39;npx --no -- commitlint --edit $</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">1</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">&#39;</span></span>
<span class="line"></span></code></pre></div><h1 id="commitizen" tabindex="-1">commitizen <a class="header-anchor" href="#commitizen" aria-label="Permalink to &quot;commitizen&quot;">​</a></h1><h2 id="install-4" tabindex="-1">install <a class="header-anchor" href="#install-4" aria-label="Permalink to &quot;install&quot;">​</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">global:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commitizen</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">project:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commitizen</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span></span>
<span class="line"></span></code></pre></div><h2 id="configure-3" tabindex="-1">configure <a class="header-anchor" href="#configure-3" aria-label="Permalink to &quot;configure&quot;">​</a></h2><ul><li>package.json</li><li>.czrc</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">commitizen</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">adapter-npm-nam</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">global:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commitizen</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cz-conventional-changelog</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-dev</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-exact</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">project:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commitizen</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cz-conventional-changelog</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-dev</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-exact</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">pnpx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commitizen</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cz-conventional-changelog</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-dev</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-exact</span></span>
<span class="line"></span></code></pre></div><p>dependencies:</p><ul><li>cz-conventional-changelog</li></ul><h2 id="usage-1" tabindex="-1">usage <a class="header-anchor" href="#usage-1" aria-label="Permalink to &quot;usage&quot;">​</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">global:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cz</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">project:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">git-cz</span></span>
<span class="line"><span style="color:#A6ACCD;">		 </span><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cz</span></span>
<span class="line"></span></code></pre></div><h1 id="husky-commitlint-commitizen-commitizen-husky-commitlint-to-format-commit-msg-commit-msg" tabindex="-1"><em>husky + commitlint</em> / <em>commitizen</em> / <em>commitizen + husky + commitlint</em> --&gt; to format commit-msg (commit-msg) <a class="header-anchor" href="#husky-commitlint-commitizen-commitizen-husky-commitlint-to-format-commit-msg-commit-msg" aria-label="Permalink to &quot;*husky + commitlint* / *commitizen* / *commitizen + husky + commitlint* --&gt; to format commit-msg (commit-msg)&quot;">​</a></h1><h1 id="changlog" tabindex="-1">changlog <a class="header-anchor" href="#changlog" aria-label="Permalink to &quot;changlog&quot;">​</a></h1><h1 id="conventional-changelog-cli" tabindex="-1">conventional-changelog-cli <a class="header-anchor" href="#conventional-changelog-cli" aria-label="Permalink to &quot;conventional-changelog-cli&quot;">​</a></h1><h2 id="install-5" tabindex="-1">install <a class="header-anchor" href="#install-5" aria-label="Permalink to &quot;install&quot;">​</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">conventional-changelog-cli</span></span>
<span class="line"></span></code></pre></div><h2 id="usage-2" tabindex="-1">usage <a class="header-anchor" href="#usage-2" aria-label="Permalink to &quot;usage&quot;">​</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">conventional-changelog</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">angular</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CHANGELOG.md</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">conventional-changelog</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">angular</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CHANGELOG.md</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"></span></code></pre></div><ul><li>standard-changelog</li><li>semantic-release</li><li>release-it</li><li>changesets</li></ul><p>![[Pasted image 20230311234921.png]]</p>`,83),p=[e];function t(c,r,i,C,y,D){return n(),a("div",null,p)}const m=s(o,[["render",t]]);export{h as __pageData,m as default};
